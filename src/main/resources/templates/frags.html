<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:fragment="bts_head">
    <meta charset="UTF-8"/>
    <link th:href="@{/css/bootstrap.css}" rel="stylesheet">
</head>
<body th:fragment="bts_body(content, title)" style="padding-top: 65px;">
<script th:src="@{/js/jquery.js}"></script>
<script th:src="@{/js/bootstrap.bundle.js}"></script>

<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" th:href="@{/}">Task 4</a>
        <th:block sec:authorize="isAuthenticated()">
            <p class="navbar-text" th:text="${#authentication.getName()}"></p>

            <form th:action="@{/logout}" method="post">
                <input class="button" type="submit" value="Log out"/>
            </form>

        </th:block>
        <th:block sec:authorize="!isAuthenticated()">
            <p class="navbar-text">Not authorized.</p>
        </th:block>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</nav>

<main class="container">
    <div class="bg-light p-5 rounded border">
        <b><p align="center" th:text="${title}"></p></b>
        <hr>

        <div th:replace="${content}"></div>
    </div>
</main>

</body>
</html>